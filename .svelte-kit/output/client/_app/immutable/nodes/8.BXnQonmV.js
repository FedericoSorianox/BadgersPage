import{S as X,i as Y,s as Z,n as D,d as h,b as k,c as u,e as c,f as d,j as w,g,h as I,k as f,l as P,z as $,p as K,o as Q,t as W,q as tt}from"../chunks/A-LiUoMI.js";import"../chunks/IHki7fMi.js";import{s as U}from"../chunks/DJAy97j8.js";async function et(r){try{const{data:t,error:l}=await U.from("profiles").select("*").eq("id",r).single();return l?(console.error("Error checking profile:",l),null):t}catch(t){return console.error("Exception checking profile:",t),null}}function lt(r){let t,l,e,n="Sesión",s,_,a,o,v="Perfil",j,z,y,S,B="Acciones",R,C,E,L="Ir a Admin",T;function M(i,p){return i[0]?rt:st}let N=M(r),b=N(r);function F(i,p){return i[1]?it:at}let O=F(r),m=O(r);function G(i,p){return i[0]?ct:ot}let q=G(r),x=q(r);return{c(){t=f("div"),l=f("div"),e=f("h2"),e.textContent=n,s=P(),b.c(),_=P(),a=f("div"),o=f("h2"),o.textContent=v,j=P(),m.c(),z=P(),y=f("div"),S=f("h2"),S.textContent=B,R=P(),C=f("div"),E=f("a"),E.textContent=L,T=P(),x.c(),this.h()},l(i){t=d(i,"DIV",{class:!0});var p=w(t);l=d(p,"DIV",{class:!0});var V=w(l);e=d(V,"H2",{class:!0,"data-svelte-h":!0}),g(e)!=="svelte-1y472gh"&&(e.textContent=n),s=I(V),b.l(V),V.forEach(h),_=I(p),a=d(p,"DIV",{class:!0});var A=w(a);o=d(A,"H2",{class:!0,"data-svelte-h":!0}),g(o)!=="svelte-gqg6gg"&&(o.textContent=v),j=I(A),m.l(A),A.forEach(h),z=I(p),y=d(p,"DIV",{class:!0});var H=w(y);S=d(H,"H2",{class:!0,"data-svelte-h":!0}),g(S)!=="svelte-4ovuwp"&&(S.textContent=B),R=I(H),C=d(H,"DIV",{class:!0});var J=w(C);E=d(J,"A",{href:!0,class:!0,"data-svelte-h":!0}),g(E)!=="svelte-1tw48ze"&&(E.textContent=L),T=I(J),x.l(J),J.forEach(h),H.forEach(h),p.forEach(h),this.h()},h(){c(e,"class","text-xl font-semibold mb-2"),c(l,"class","bg-gray-100 p-4 rounded"),c(o,"class","text-xl font-semibold mb-2"),c(a,"class","bg-gray-100 p-4 rounded"),c(S,"class","text-xl font-semibold mb-2"),c(E,"href","/admin"),c(E,"class","bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"),c(C,"class","space-x-4"),c(y,"class","bg-gray-100 p-4 rounded"),c(t,"class","space-y-6")},m(i,p){k(i,t,p),u(t,l),u(l,e),u(l,s),b.m(l,null),u(t,_),u(t,a),u(a,o),u(a,j),m.m(a,null),u(t,z),u(t,y),u(y,S),u(y,R),u(y,C),u(C,E),u(C,T),x.m(C,null)},p(i,p){N===(N=M(i))&&b?b.p(i,p):(b.d(1),b=N(i),b&&(b.c(),b.m(l,null))),O===(O=F(i))&&m?m.p(i,p):(m.d(1),m=O(i),m&&(m.c(),m.m(a,null))),q===(q=G(i))&&x?x.p(i,p):(x.d(1),x=q(i),x&&(x.c(),x.m(C,null)))},d(i){i&&h(t),b.d(),m.d(),x.d()}}}function nt(r){let t,l="Cargando...";return{c(){t=f("p"),t.textContent=l},l(e){t=d(e,"P",{"data-svelte-h":!0}),g(t)!=="svelte-dtqfh9"&&(t.textContent=l)},m(e,n){k(e,t,n)},p:D,d(e){e&&h(t)}}}function st(r){let t,l="No hay sesión activa";return{c(){t=f("p"),t.textContent=l,this.h()},l(e){t=d(e,"P",{class:!0,"data-svelte-h":!0}),g(t)!=="svelte-1k8k0r3"&&(t.textContent=l),this.h()},h(){c(t,"class","text-red-600")},m(e,n){k(e,t,n)},p:D,d(e){e&&h(t)}}}function rt(r){let t,l=JSON.stringify(r[0],null,2)+"",e;return{c(){t=f("pre"),e=W(l),this.h()},l(n){t=d(n,"PRE",{class:!0});var s=w(t);e=Q(s,l),s.forEach(h),this.h()},h(){c(t,"class","text-sm")},m(n,s){k(n,t,s),u(t,e)},p(n,s){s&1&&l!==(l=JSON.stringify(n[0],null,2)+"")&&K(e,l)},d(n){n&&h(t)}}}function at(r){let t,l="No se encontró perfil";return{c(){t=f("p"),t.textContent=l,this.h()},l(e){t=d(e,"P",{class:!0,"data-svelte-h":!0}),g(t)!=="svelte-1r6vrtq"&&(t.textContent=l),this.h()},h(){c(t,"class","text-red-600")},m(e,n){k(e,t,n)},p:D,d(e){e&&h(t)}}}function it(r){let t,l=JSON.stringify(r[1],null,2)+"",e;return{c(){t=f("pre"),e=W(l),this.h()},l(n){t=d(n,"PRE",{class:!0});var s=w(t);e=Q(s,l),s.forEach(h),this.h()},h(){c(t,"class","text-sm")},m(n,s){k(n,t,s),u(t,e)},p(n,s){s&2&&l!==(l=JSON.stringify(n[1],null,2)+"")&&K(e,l)},d(n){n&&h(t)}}}function ot(r){let t,l="Ir a Login";return{c(){t=f("a"),t.textContent=l,this.h()},l(e){t=d(e,"A",{href:!0,class:!0,"data-svelte-h":!0}),g(t)!=="svelte-zjiti4"&&(t.textContent=l),this.h()},h(){c(t,"href","/login"),c(t,"class","bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600")},m(e,n){k(e,t,n)},p:D,d(e){e&&h(t)}}}function ct(r){let t,l="Cerrar Sesión",e,n;return{c(){t=f("button"),t.textContent=l,this.h()},l(s){t=d(s,"BUTTON",{class:!0,"data-svelte-h":!0}),g(t)!=="svelte-19njxkk"&&(t.textContent=l),this.h()},h(){c(t,"class","bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600")},m(s,_){k(s,t,_),e||(n=tt(t,"click",r[3]),e=!0)},p:D,d(s){s&&h(t),e=!1,n()}}}function ut(r){let t,l,e="Debug - Estado de Autenticación",n;function s(o,v){return o[2]?nt:lt}let _=s(r),a=_(r);return{c(){t=f("div"),l=f("h1"),l.textContent=e,n=P(),a.c(),this.h()},l(o){t=d(o,"DIV",{class:!0});var v=w(t);l=d(v,"H1",{class:!0,"data-svelte-h":!0}),g(l)!=="svelte-1vp71ph"&&(l.textContent=e),n=I(v),a.l(v),v.forEach(h),this.h()},h(){c(l,"class","text-3xl font-bold mb-8"),c(t,"class","container mx-auto p-8")},m(o,v){k(o,t,v),u(t,l),u(t,n),a.m(t,null)},p(o,[v]){_===(_=s(o))&&a?a.p(o,v):(a.d(1),a=_(o),a&&(a.c(),a.m(t,null)))},i:D,o:D,d(o){o&&h(t),a.d()}}}function dt(r,t,l){let e=null,n=null,s=!0;$(async()=>{const{data:{session:a}}=await U.auth.getSession();l(0,e=a),e&&l(1,n=await et(e.user.id)),l(2,s=!1)});async function _(){await U.auth.signOut(),window.location.reload()}return[e,n,s,_]}class _t extends X{constructor(t){super(),Y(this,t,dt,ut,Z,{})}}export{_t as component};
